syntax = "proto3";

import "MF/V3/Task.proto";
import "MF/V3/Settings/CopyGroups.proto";
import "MF/V3/Descriptors/Project.proto";

package MF.V3.Tasks;

/**
 * Copy a set of scan groups.
 *
 * Say we have a scan group three with three groups:
 *
 * ```json
 * {
 *     "groups":[
 *         {"index":1, "name":"Group 1"},
 *         {"index":2, "name":"Group 2"},
 *         {"index":3, "name":"Group 3"}
 *     ],
 * }
 * ```
 *
 * and we want to copy groups 1 and 3.
 * 
 * > Request example:
 *
 * ```json
 * {
 *     "Task":{
 *         "Index":1,
 *         "Type":"CopyGroups",
 *         "Input":{
 *             "sourceIndexes": [1,3],
 *             "nameSuffix": "-copy"
 *         }
 *     }
 * }
 * ```
 *
 * > Response example:
 *
 * ```json
 * {
 *     "Task":{
 *         "Index":1,
 *         "Type":"CopyGroups",
 *         "Input":{"sourceIndexes":[1,3,5]},
 *         "Output":{
 *             "groups":[
 *                 {"index":1, "name":"Group 1"},
 *                 {"index":4, "name":"Group 1-copy"}
 *                 {"index":2, "name":"Group 2"},
 *                 {"index":3, "name":"Group 3"},
 *                 {"index":5, "name":"Group 3-copy"},
 *             ],
 *         },
 *         "State":"Completed"
 *     }
 * }
 * ```
 */
message CopyGroups
{

// Client request for the `CopyGroups` task.
message Request
{
    // A unique identifier generated by the client.
    int32 Index = 1;

    // "CopyGroups"
    string Type = 2;

    // The copy groups settings.
    Settings.CopyGroups Input = 3;
}

// Server response for the `CopyGroups` task.
message Response
{
    // The unique identifier generated by the client.
    int32 Index = 1;

    // "CopyGroups"
    string Type = 2;

    // The requested copy groups settings.
    Settings.CopyGroups Input = 3;

    // The root scan group in the current open project.
    Descriptors.Project.Group Output = 4;

    // The current state of the task.
    optional TaskState State = 5;

    // A string describing the error if the task has failed.
    optional string Error = 6;
}

}
